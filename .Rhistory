totalCredits <- function(x){
subsample <- transcriptData [transcriptData$學號 == x,]
subsample %>%
mutate(
及格 = 學期成績 >= 60
) %>%
summarise(
學號 = 學號 [1],
總修習學分數=sum(學分數),
總實得學分數=sum(學分數[subsample$及格]))
}
totalCredits("edfeQ7fb8")
View(subsample)
subsample$學期成績 >= 60 -> subsample$及格 # 1
總修習學分數=sum(subsample$學分數) # 2
總實得學分數=sum(subsample$學分數[subsample$及格]) #3
subsample %>%
mutate(
及格 = 學期成績 >= 60  )%>%
summarise(
總修習學分數=sum(學分數),
總實得學分數=sum(subsample$學分數[subsample$及格])
) -> result
result
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱 %>%
unique -> 通識科目總表
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱 %>%
unique %>% as.character-> 通識科目總表
通識科目總表
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱 %>% as.factor %>%
unique %>% as.character-> 通識科目總表
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱 %>% as.factor %>%
unique
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱
View(transcriptData)
View(transcriptData)
library(readr); library(dplyr); library(stringr); library(lubridate)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
libraryData %>%
filter(入學年==100, 學院=="社會科學院")
libraryData %>%
filter(入學年==100, 學院=="社會科學院" , 書籍 == '社會科學類')
libraryData %>%
filter(入學年==100, 學院=="社會科學院")
libraryData %>%
filter(入學年==100)
libraryData %>%
filter(入學年==100, 學院=="社會科學院",書籍 == "社會科學類")
libraryData %>%
filter(入學年==100, 學院=="社會科學院",書籍類別 == "社會科學類")
libraryData %>%
filter(between(入學年,100,102), 學院=="社會科學院")
libraryData %>%
filter(入學年 %>% between(100,102), 學院=="社會科學院")
libraryData %>%
filter(入學年 %>% between(100,102), 學院=="社會科學院",讀者借閱冊數 %>% between(30,40))
libraryData %>%
filter(入學年 %>% between(100,102), 學院=="社會科學院",讀者借閱冊數 %>% between(30,40),書籍上架年月 %>% between('1999-03-01','1999-11-30'))
betwwen
??between
a<-c(1:10)
typeof(a)
a<-c(1:10)
typeof(a)
b<-list("a","b",1:10)
typeof(b)
a<-c(1:10)
typeof(a)
b<-list("a","b",1:10)
typeof(b)
length(b)
a<-c(1:10)
typeof(a)
length(a)
b<-list("a","b",1:10)
typeof(b)
length(b)
b2<-list("a","b",1:10,
list(
"Mr Smith",
data.frame(
v1=c(1,2),
v2=c("aa","bb"),
stringsAsFactors = F
)
))
library(readr)
filmVotingData <- read_csv("https://raw.githubusercontent.com/tpemartin/course-107-1-programming-for-data-science/master/data/%E7%AC%AC%E4%B8%89%E5%B1%86%E7%B6%93%E6%BF%9F%E6%92%AD%E5%AE%A2%E7%AB%B6%E8%B3%BD%E5%8F%83%E8%B3%BD%E4%BD%9C%E5%93%81%E6%8A%95%E7%A5%A8%E7%B5%90%E6%9E%9C%E6%A8%A3%E6%9C%AC%20-%20Sheet1.csv")
filmVotingData$請選擇你最喜歡的影片二部 %>%
str_split(", (?!(by))") -> filmVotingResult
#filmVotingResult
filmVotingData$請選擇你最喜歡的影片二部 %>%
str_split(", (?!(by))") -> filmVotingResult
filmVotingResult
filmVotingData$請選擇你最喜歡的影片二部 %>%
str_split(", (?!(by))") -> filmVotingResult
#filmVotingResult
plasticContainer <- list(
greenBox=c("paper","scissor"),     # location 1
redBox=c(1L,3L,2.5),               # location 2
blueBox=c(TRUE,FALSE,TRUE,TRUE)    # location 3
)
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)]
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)]
plasticContainer[["greenBox"]] # or plasticContainer[[1]]
plasticContainer$greenBox
plasticContainer["greenBox","redBox"] # or plasticContainer[c(1,2)] #母體加物品
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)] #母體加物品
plasticContainer[["greenBox"]] # or plasticContainer[[1]] #物品
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)] #母體加物品
class(plasticContainer[c("greenBox","redBox")])
plasticContainer[["greenBox"]] # or plasticContainer[[1]] #物品
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)] #母體加物品
plasticContainer[["greenBox"]] # or plasticContainer[[1]] #物品
class(plasticContainer[["greenBox"]])
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)] #母體加物品
plasticContainer[["greenBox"]] # or plasticContainer[[1]] #物品
class(plasticContainer[c("greenBox")]
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)] #母體加物品
plasticContainer[["greenBox"]] # or plasticContainer[[1]] #物品
class(plasticContainer[c("greenBox")])
plasticContainer[c("greenBox","redBox")] # or plasticContainer[c(1,2)] #母體加物品
plasticContainer[["greenBox"]] # or plasticContainer[[1]] #物品
plasticContainer <- list(
greenBox=c("paper","scissor"),     # location 1
redBox=c(1,3,2.5),               # location 2
blueBox=c(TRUE,FALSE,TRUE,TRUE)    # location 3
)
A = 1L
A = 1L
class(A)
plasticContainer <- list(
greenBox=c("paper","scissor"),     # location 1
redBox=c(1L,3L,2.5),               # location 2
blueBox=c(TRUE,FALSE,TRUE,TRUE)    # location 3
)
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
library(readr)
transcriptData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/transcript100_102.csv",
col_types = cols(
學期成績="n"
))
View(b2)
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱 %>% unique -> 通識科目總表
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]$科目名稱
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
transcriptData[filteredLogiIndex,]
filteredLogiIndex <- (transcriptData$學年 == 100 & transcriptData$學期 == 1 & transcriptData$`必選修類別（必∕選∕通）`== '通 ' )
filteredLogiIndex
View(transcriptData)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
View(classSurvey)
classSurvey %>%
mutate(
性別 = as.factor(性別),
入學年 = str_sub(學號,2,4)
團隊活動 = (課外活動 == "團隊活動")
classSurvey %>%
mutate(
性別 = as.factor(性別),
入學年 = str_sub(學號,2,4),
團隊活動 = (課外活動 == "團隊活動")
) -> classSurvey
classSurvey %>%
group_by(性別,"男","女")%>%
summarise(
人數 = n(),
參加團隊活動人數 = sum(團隊活動),
參加團隊活動比例 = 參加團隊活動人數/人數
)
classSurvey %>%
group_by(性別)%>%
summarise(
人數 = n(),
參加團隊活動人數 = sum(團隊活動),
參加團隊活動比例 = 參加團隊活動人數/人數
)
View(hwGrades)
is_hot<- function(temperature){
ifelse(temperature>30, "熱", "宜人")
}
is_hot(28)
is_hot(35)
na2zero -> function(x){
ifelse(x == NA,0,x)
}
na2zero <- function(x){
ifelse(x == NA,0,x)
}
??mutate_if
hwGrades %>% mutate(
hw1 = na2zero(hw1)
)
band_members
band_instruments
??left_join
band_members %>%
left_join(band_instruments,by=c("name"))
hwGrades %>% left_join(classSurvey,by=c("學號"))
hwGrades %>% left_join(classSurvey,by=c("學號")) -> hwGrades
na2zero(hwGrades$hw1)
for(i in c(length(hwGrades$hw1))){
na2zero([])
for(i in c(length(hwGrades$hw1))){
na2zero(hwGrades$hw1[i])
}
for(i in c(length(hwGrades$hw1))){
na2zero(hwGrades$hw1[i])
return
}
for(i in c(length(hwGrades$hw1))){
na2zero(hwGrades$hw1[i])
return(na2zero(hwGrades$hw1[i]))
}
for(i in c(length(hwGrades$hw1))){
na2zero(hwGrades$hw1[i]) -> hwGrades$hw1[i]
}
for(i in c(length(hwGrades$hw1))){
hwGrades$hw1[i]
}
for(i in c(length(hwGrades$hw1))){
hwGrades$hw1[i]
}
hwGrades$hw1[i]
for(i in c(length(hwGrades$hw1))){
na2zero(hwGrades$hw1[i])
}
for(i in c(length(hwGrades$hw1))){
na2zero(hwGrades$hw1[i]) -> hwGrades$hw1[i]
} -> hwGrades
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
na2zero(hwGrades$hw1[1])
na2zero <- function(x){
ifelse(NA,0,x)
}
na2zero(hwGrades$hw1[1])
na2zero <- function(x){
x = ifelse(NA,0,x)
}
na2zero(hwGrades$hw1[1])
na2zero <- function(x){
ifelse((x == NA),0,x)
}
na2zero(hwGrades$hw1[1])
hwGrades$hw1[1]
na2zero <- function(x){
ifelse(x == NA,0,x)
}
hwGrades$hw1[23]
na2zero(hwGrades$hw1[23])
na2zero <- function(x){
ifelse(x == NA,"0","x")
}
na2zero(hwGrades$hw1[23])
na2zero <- function(x){
ifelse(x == NA,0,x)
}
na2zero(hwGrades$hw1[23])
na2zero(NA)
na2zero(1)
na2zero <- function(x){
ifelse(x == NA,0,x)
}
na2zero <- function(x){
ifelse(x == NA,"是","不是")
}
na2zero(1)
na2zero <- function(x){
ifelse(is.na(x),"是","不是")
}
na2zero(1)
na2zero <- function(x){
ifelse(is.na(x),0,x)
}
na2zero(1)
na2zero(hwGrades$hw1[1])
hwGrades %>%
mutate(
na2zero(hwGrades$hw1)
)
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1)
)
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
)
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
group_by(學號)%>%
mutate(
作業平均成績 = (hw1+hw2+Exercise3)/3
)
hwGrades %>%
group_by(學號)%>%
mutate(
作業平均成績 = (hw1+hw2+Exercise3)/3
) -> hwGrades
hwGrades %>% left_join(classSurvey,by=c("學號")) -> hwGrades
hwGrades %>%
group_by(學號)%>%
mutate(
作業平均成績 = (hw1+hw2+Exercise3)/3
) -> hwGrades
hwGrades %>%
group_by(性別) %>%
summarise(
平均作業平均成績 = sum(作業平均成績)/n()
)
??mutate_if
hwGrades %>%
mutate_if(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey %>%
mutate(
性別 = as.factor(性別),
入學年 = str_sub(學號,2,4),
團隊活動 = (課外活動 == "團隊活動")
) -> classSurvey
classSurvey %>%
group_by(性別)%>%
summarise(
人數 = n(),
參加團隊活動人數 = sum(團隊活動),
參加團隊活動比例 = 參加團隊活動人數/人數
)
na2zero <- function(x){
ifelse(is.na(x),0,x)
}
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
as.numeric(na2zero())
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
as.numeric(na2zero(hwGrades))
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
as.numeric(na2zero(hwGrades$hw1))
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
as.numeric,na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
as.numeric,na2zero(hwGrades)
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
is.na,as.numeric
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
hwGrades %>%
mutate_if(
is.numeric,na2zero
) -> hwGrades
hwGrades %>%
mutate_if(
is.numeric,na2zero
) -> hwGrades
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
hwGrades %>%
mutate_if(
is.numeric,na2zero
) -> hwGrades
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
read.csv()
??read.csv
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr);library(googlesheets)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr);library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr); library(stringr); library(lubridate); library(purrr);library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey %>%
mutate(
性別 = as.factor(性別),
入學年 = str_sub(學號,2,4),
團隊活動 = (課外活動 == "團隊活動")
) -> classSurvey
classSurvey %>%
group_by(性別)%>%
summarise(
人數 = n(),
參加團隊活動人數 = sum(團隊活動),
參加團隊活動比例 = 參加團隊活動人數/人數
)
is_hot<- function(temperature){
ifelse(temperature>30, "熱", "宜人")
}
is_hot(28)
is_hot(35)
na2zero <- function(x){
ifelse(is.na(x),0,x)
}
hwGrades %>%
mutate_if(
is.numeric,na2zero
) -> hwGrades
hwGrades %>%
mutate(
hw1 = na2zero(hwGrades$hw1),
hw2 = na2zero(hwGrades$hw2),
Exercise3 = na2zero(hwGrades$Exercise3)
) -> hwGrades
band_members
band_instruments
band_members %>%
left_join(band_instruments,by=c("name"))
hwGrades %>% left_join(classSurvey,by=c("學號")) -> hwGrades
hwGrades %>%
group_by(學號)%>%
mutate(
作業平均成績 = (hw1+hw2+Exercise3)/3
) -> hwGrades
hwGrades %>%
group_by(性別) %>%
summarise(
平均作業平均成績 = sum(作業平均成績)/n()
)
