b <- (classData$`練2018-10-17-1` == 1)
c <- b[Viewed]
as.factor(as.numeric(c)) -> c
levels(c) <- c("有看公告沒記錄","有看公告有記錄")
41/52 -> ratio
round(ratio,2) -> ratio
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
table(e)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
table(e)
16/25 -> ratio1
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
table(e)
16/25 -> ratio1
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- b[Viewed]
as.factor(as.numeric(c)) -> c
levels(c) <- c("有看公告沒記錄","有看公告有記錄")
table(c)
41/52 -> ratio
round(ratio,2) -> ratio
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
table(e)
16/25 -> ratio1
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
table(e)
16/25 -> ratio1
ratio1
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
as.factor(classData$`公-10-06`) -> a
levels(a)<-c("沒看公告","有看公告")
a
Viewed <- (a == "有看公告")
Sample <- classData$`GitHub username`[Viewed]
Sample
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- b[Viewed]
as.factor(as.numeric(c)) -> c
levels(c) <- c("有看公告沒記錄","有看公告有記錄")
table(c)
41/52 -> ratio
round(ratio,2) -> ratio
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
d <- (classData$`練2018-10-17-1` == 0)
nonViewed <- (a == "沒看公告")
e <- d[nonViewed]
as.factor(as.numeric(e)) -> e
levels(e) <- c("沒看公告沒記錄","沒看公告有記錄")
table(e)
16/25 -> ratio1
ratio1
library(googlesheets)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp) -> hwData$Timestamp
with_tz(hwData$Timestamp,tz = "Asia/Taipei") -> hwData$Timestamp
deadline <- ymd_hms("2018-10-24 00:00:00")
deadline
(deadline - hwData$Timestamp) -> a
as.numeric(a, units = "days") -> hwData$early
library(stringr)
str_c(hwData$early,"天") -> hwData$early
hwData$early
str_sub(hwData$early,1,3) -> a
round(as.numeric(a),0) -> a
str_c(a,"天") -> hwData$early
hwData$early
b <-(hwData$作業代碼 == "hw1")
c <- hwData$early[b]
table(c)
Viewed <- (a == "有看公告")
classData[Viewed]
classData[a == "有看公告"]
(a == "有看公告")
classData(a == "有看公告")
classData[a == "有看公告"]
(a == "有看公告")
(a == "沒看公告")
which(a == "沒看公告")
library(readr)
iPeenData <- read_csv("https://raw.githubusercontent.com/tpemartin/course-107-1-programming-for-data-science/master/data/iPeenData.csv")
library(lubridate)
library(stringr)
library(base)
str_locate_all(iPeenData$均消, "\\d") -> x
str_sub(iPeenData$均消,14,18) -> y
head(y,n=450) -> y
as.character(y) -> y
str_replace_all(y,",","") -> y
str_replace_all(y," ","  ") -> y
str_sub(y,1,4) -> y
str_remove_all(y, "元") -> y
as.numeric(y) -> y
class(y)
y
library(googlesheets)
#gs_auth(new_user = TRUE)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
classData<-gs_read(gsLMSHabit,ws="公告與練習") #access the 1st worksheet
as.factor(classData$`公-10-06`) -> a
levels(a)<-c("沒看公告","有看公告")
a
which(classData$`公-10-06` == 1 )
which(classData$`公-10-06` == 1 )
classData[c(classData$`公-10-06` == 1),]
library(googlesheets)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
?lubridate::mdy_hms()
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp,tz= "Asia/Taipei") -> hwData$Timestamp
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp,tz= "Asia/Taipei") -> hwData$Timestamp
hwData$Timestamp
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp,tz= "Asia/Taipei") -> hwData$Timestamp
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp, quiet = FALSE, tz = "Asia/Taipei", locale = Sys.getlocale("LC_TIME"),
truncated = 0) -> hwData$Timestamp
library(googlesheets)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp, tz="Asia/Taipei")
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp, tz="Asia/Taipei") -> hwData$Timestamp
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp, tz="Asia/Taipei") -> hwData$Timestamp
hwData$Timestamp
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp, tz="Asia/Taipei") -> hwData$Timestamp
library(googlesheets)
gsLMSHabit<-gs_key("1fWdfu5yvFKtl8bUfXp6bSWdgTCxHiXPAnSW-JSk-IWc")  #download sheet information as an object
hwData<-gs_read(gsLMSHabit,ws="作業上傳")
as.factor(hwData$Timestamp) -> hwData$Timestamp
library(lubridate)
mdy_hms(hwData$Timestamp, tz="Asia/Taipei") -> hwData$Timestamp
deadline <- ymd_hms("2018-10-24 00:00:00",tz="Asia/Taipei")
deadline
(deadline - hwData$Timestamp) -> a
as.numeric(a, units = "days") -> hwData$early
library(stringr)
str_c(hwData$early,"天") -> hwData$early
hwData$early
str_sub(hwData$early,1,3) -> a
round(as.numeric(a),0) -> a
str_c(a,"天") -> hwData$early
hwData$early
b <-(hwData$作業代碼 == "hw1")
c <- hwData$early[b]
table(c)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- Viewed[b]
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- Viewed[b]
c
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
b
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
A
as.factor(classData$`公-10-06`) -> a
levels(a)<-c("沒看公告","有看公告")
table(a)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- b[c]
A
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- b[c]
table(A)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
table(A)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
table(A)
table(c)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
table(A)
table(c)
table(b)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
table(A)
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
table(A)
41 / 50 -> ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
A <- c[b]
table(A)
41 / 50 -> ratio
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- b[Viewed]
as.factor(as.numeric(c)) -> c
levels(c) <- c("有看公告沒記錄","有看公告有記錄")
table(c)
41/52 -> ratio
ratio
sample1 <- [nonViewed]
Record <- [classData$記錄 == "有記錄"]
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- b[Viewed]
as.factor(as.numeric(c)) -> c
levels(c) <- c("有看公告沒記錄","有看公告有記錄")
table(c)
41/52 -> ratio
ratio
as.factor(classData$`練2018-10-17-1`) -> classData$`練2018-10-17-1`
b <- (classData$`練2018-10-17-1` == 1)
c <- (classData$`公-10-06` == 1)
d <- b[c]
as.factor(as.numeric(d)) -> d
levels(d) <- c("有看公告沒記錄","有看公告有記錄")
table(d)
41/52 -> ratio
ratio
library(stringr)
collegeData %>%
mutate(
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",","")
) %>%
mutate(
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
collegeData$學校名稱 <- as.factor(collegeData$學校名稱)
collegeData$學校代碼 <- as.factor(collegeData$學校代碼)
collegeData -> collegeData2
library(dplyr)
mutate(
collegeData,
學校代碼1=as.factor(學校代碼),
學校名稱1=as.factor(學校名稱)
) -> collegeData2
library(stringr)
collegeData %>%
mutate(
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",","")
) %>%
mutate(
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(stringr)
collegeData %>%
mutate(#逗號拿掉
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",",""),
#數值
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
#parse_integer(x, <數值替代na轉na> na = c("", "NA"), locale = default_locale())
#parse_double(x, na = c("", "NA"), locale = default_locale())
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述grouping_mark千分位符號使用","的習慣場景 locale=場景 可多場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,locale=cl),
一年級女生=parse_number(一年級女生,locale=cl)
) -> collegeData4
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述grouping_mark千分位符號使用","的習慣場景 locale=場景 可多場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
二年級男生=parse_number(二年級男生,locale=cl),
二年級女生=parse_number(二年級女生,locale=cl)
) -> collegeData4
?locale
problems(collegeData4$一年級男生)
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
collegeData$學校名稱 <- as.factor(collegeData$學校名稱)
collegeData$學校代碼 <- as.factor(collegeData$學校代碼)
collegeData -> collegeData2
library(dplyr)
mutate(
collegeData,
學校代碼1=as.factor(學校代碼),
學校名稱1=as.factor(學校名稱)
) -> collegeData2
library(stringr)
collegeData %>%
mutate(
collegeData
一年級男生=str_replace(一年級男生,",",""),
library(stringr)
library(lubridate)
民國年月<-c("099/01","099/02","099/03")
# 1
str_c("1",民國年月,"/01")->民國年月
# 2
lubridate::ymd(民國年月) -> 民國年月
# 3
民國年月 + years(911)
民國年月<-c("099/01","099/02","099/03")
library(dplyr)
# 1
民國年月 %>%  #串接 , x用" . "代替
str_c("1", . ,"/01") %>%
ymd %>%
{ . + years(911) }
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
library(stringr)
collegeData %>%
mutate(
collegeData,
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",","")
)%>%
mutate(
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(dplyr)
mutate(
collegeData,
學校代碼1=as.factor(學校代碼),
學校名稱1=as.factor(學校名稱)
) -> collegeData2
library(stringr)
collegeData %>%
mutate(
collegeData,
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",","")
)%>%
mutate(
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(stringr)
collegeData %>%
mutate(#逗號拿掉
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",",""),
#數值
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
library(stringr)
collegeData %>%
mutate(
一年級男生=str_replace(一年級男生,",",""),
一年級女生=str_replace(一年級女生,",","")
)%>%
mutate(
一年級男生=as.numeric(一年級男生),
一年級女生=as.numeric(一年級女生)
) -> collegeData3
#parse_integer(x, <數值替代na轉na> na = c("", "NA"), locale = default_locale())
#parse_double(x, na = c("", "NA"), locale = default_locale())
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述grouping_mark千分位符號使用","的習慣場景 locale=場景 可多場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,na = c("-", "NA"),locale=cl),
一年級女生=parse_number(一年級女生,na = c("-", "NA"),locale=cl)
) -> collegeData4
#parse_integer(x, <數值替代na轉na> na = c("", "NA"), locale = default_locale())
#parse_double(x, na = c("", "NA"), locale = default_locale())
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述grouping_mark千分位符號使用","的習慣場景 locale=場景 可多場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,na = c("-", "NA"),locale=cl),
一年級女生=parse_number(一年級女生,na = c("-", "NA"),locale=cl),
一年級男生每千人=一年級男生/1000,
一年級女生每千人=一年級女生/1000
) -> collegeData4
View(collegeData4)
collegeData %>%
select(一年級男生,一年級女生,二年級男生,
二年級女生) -> college1stYearData
collegeData %>%
mutate(一年級男生=parse_number(一年級男生,na = c("-", "NA"),locale=cl),
一年級女生=parse_number(一年級女生,na = c("-", "NA"),locale=cl),
二年級男生=parse_number(二年級男生,na = c("-", "NA"),locale=cl),
二年級女生=parse_number(二年級女生,na = c("-", "NA"),locale=cl)
) -> college1stYearData
college1stYearData %>%
mutate_all(. = parse_number(.,,na = c("-", "NA"),locale=cl)
-> college1stYearData
college1stYearData %>%
mutate_all(college1stYearData = parse_number(.,,na = c("-", "NA"),locale=cl)
-> college1stYearData
college1stYearData %>%
mutate_all(funs(parse_number(.,locale=cl))) -> college1stYearData
library(readr)
collegeData <- read_csv("https://quality.data.gov.tw/dq_download_csv.php?nid=6231&md5_url=dda8fca407131483c1d8cbf3d61cf793")
collegeData$學校代碼<-as.factor(collegeData$學校代碼)
collegeData$學校名稱<-as.factor(collegeData$學校名稱)
collegeData -> collegeData2
library(readr)
cl<-locale(grouping_mark = ",") # 創造cl來描述千分位符號使用","的習慣場景
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
#一年級男生=parse_number(一年級男生,locale=cl),
#一年級女生=parse_number(一年級女生,locale=cl)
一年級男生=parse_number(一年級男生,na=c("","NA","-"),locale=cl),
一年級女生=parse_number(一年級女生,na=c("","NA","-"),locale=cl)
) -> collegeData4
collegeData %>%
mutate(
`日間∕進修別`=as.factor(`日間∕進修別`),
等級別=as.factor(等級別),
一年級男生=parse_number(一年級男生,locale=cl),
一年級女生=parse_number(一年級女生,locale=cl),
一年級男生每千人=一年級男生/1000,
一年級女生每千人=一年級女生/1000
) -> collegeData5
