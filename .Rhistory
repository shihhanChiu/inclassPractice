semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1
View(subsample1)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) <= 8) -> subsample1
subsample1
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8))
View(subsample1)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
View(subsample1)
#subsample <- transcriptData[(transcriptData$學號 == "92a7O5fee"),]
#subsample %>%
# group_by(學號,學年)%>%
#summarise(
# 學年平均成績 = sum(學期成績) / n()
#)
transcriptData %>%
group_by(學號,學年,學系,學屆)%>%
mutate(
學年平均成績 = sum(學期成績*學分數) / sum(學分數)
) ->gradeEachYear
gradeEachYear
#subsample <- transcriptData[(transcriptData$學號 == "92a7O5fee"),]
#subsample %>%
# group_by(學號,學年)%>%
#summarise(
# 學年平均成績 = sum(學期成績) / n()
#)
transcriptData %>%
group_by(學號,學年,學系,學屆)%>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數)
) ->gradeEachYear
gradeEachYear
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數)
四年平均成績 = sum(學年平均成績) / 4
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數)
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
四年平均成績 = sum(學年平均成績) / 4
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆,學年) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
四年平均成績 = sum(學年平均成績) / 4
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆,學年) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
四年平均成績 = sum(學年平均成績) / sum(學年)
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆,學年) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
四年平均成績 = sum(學年平均成績)
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆,學年) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
) %>%
group_by(學號,學年)
summarise(
四年平均成績 = sum(學年平均成績)
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆,學年) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
) -> subsample1
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆) %>%
summarise(
學年平均成績 = sum(學期成績*學分數) / sum(學分數),
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> subsample1
subsample1 %>%
group_by(學號,學系,學屆) %>%
summarise(
學屆平均成績 = sum(學期成績*學分數) / sum(學分數),
)
View(subsample1)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> filteredTranscriptData
filteredTranscriptData%>%
group_by(學號,學系,學屆) %>%
summarise(
學屆平均成績 = sum(學期成績*學分數) / sum(學分數),
) -> grade4Years
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> filteredTranscriptData
filteredTranscriptData%>%
group_by(學號,學系,學屆) %>%
summarise(
學屆平均成績 = sum(學期成績*學分數) / sum(學分數),
) -> grade4Years
grade4Years %>%
group_by(學系,學屆) %>%
mutate(
percent_rank(學屆平均成績)
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> filteredTranscriptData
filteredTranscriptData%>%
group_by(學號,學系,學屆) %>%
summarise(
學屆平均成績 = sum(學期成績*學分數) / sum(學分數),
) -> grade4Years
grade4Years %>%
group_by(學系,學屆) %>%
mutate(
學屆PR = percent_rank(學屆平均成績)
)
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> filteredTranscriptData
filteredTranscriptData%>%
group_by(學號,學系,學屆) %>%
summarise(
學屆平均成績 = sum(學期成績*學分數) / sum(學分數),
) -> grade4Years
grade4Years %>%
group_by(學系,學屆) %>%
mutate(
學屆PR = percent_rank(學屆平均成績)*100
) -> grade4Years
semesterNumber <- function(xx){
xx %>% as.factor -> xx
levels(xx) <- 1:length(levels(xx))
as.integer(xx)
}
transcriptData %>%
mutate(
學年學期 = str_c(學年,'-',學期)
) %>%
group_by(學號)%>%
mutate(
第幾學期 = semesterNumber(學年學期)
) -> transcriptDataWithSemesterCounts
transcriptDataWithSemesterCounts %>%
group_by(學號)%>%
filter(max(第幾學期) >= 8) -> subsample1
subsample1 %>%
filter(第幾學期 %>% between(1,8)) -> filteredTranscriptData
filteredTranscriptData%>%
group_by(學號,學系,學屆) %>%
summarise(
學屆平均成績 = sum(學期成績*學分數) / sum(學分數),
) -> grade4Years
grade4Years %>%
group_by(學系,學屆) %>%
mutate(
學屆PR = percent_rank(學屆平均成績)*100
) -> grade4Years
grade4Years
